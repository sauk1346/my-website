# Ejercicios CRUD (2)
**Material Clase:** [clase03.pdf](/inacap/ti3v32/docs/clase03.pdf)

## Diferencia SQL y NoSql

En las BD NoSql existe una **pseudo-relación**, es decir, si bien no existe una relación de tablas, aún así existe una relación de datos

## Json

*Javascript Object Notation*

```json
[
    {
        "id":"01",
        "lenguaje":"java",
        "edicion":"tercera",
        "autor":"Hebert Schildt"
    },
    {
        "id":"07",
        "lenguaje":"c++",
        "edicion":"segunda",
        "autor":"E.Balagurusamy"
    }
]
```
<br/>

# Ejercicios
Cargar los siguientes archivos a la Base de Datos:

- [productos.csv](/inacap/ti3v32/data/productos.csv)
- [docentes.csv](/inacap/ti3v32/data/docentes.csv)
- [alumnos.csv](/inacap/ti3v32/data/alumnos.csv)

**Pasos:**

1. Crear 3 colecciones: productos, docentes, alumnos
2. Agregar los csv a sus respectivas colecciones 
    - Boton `Add Data` > `import JSON or CSV file`

## Ejercicio 01

**Insertar un nuevo estudiante**

<Solution>
- Seleccionar colección `alumnos`
- `Add Data` > `Insert Document`

```json
{
  "_id": "666",
  "nombre": "Max",
  "apellido": "Power",
  "edad": "20",
  "carrera": "diseño",
  "correo": "max@example.com",
  "notas": [3, 2, 5]
}
```
</Solution>

## Ejercicio 02
**Insertar múltiple docentes**

<Solution>
- Seleccionar colección `docentes`
- Presionar botón `Add Data` > `Insert Document`

```json
[
    {
    "_id": "666",
    "nombre": "AAA",
    "apellido": "aaa",
    "edad": "30",
    "departament": "informática",
    "correo": "aaa@example.com",
    "asignatura": ["a1", "a2", "a3"]
    },
    {
    "_id": "777",
    "nombre": "BBB",
    "apellido": "bbb",
    "edad": "33",
    "departament": "electronica",
    "correo": "bbb@example.com",
    "asignatura": ["b1", "b2", "b3"]
    }
]
```
</Solution>

## Ejercicio 03
**Filtrar estudiantes por carrera**. Encuentra a los alumnos que estudien Ingeniería informática

<Solution>
- Seleccionar colección `alumnos`
- Ir a query y agregar:

```json
{"carrera":"Ingeniería Informática"}
```
- Presionar botón `find`
</Solution>

## Ejercicio 04
Buscar docentes que enseñan Bases de datos

<Solution>
- Seleccionar colección `docentes`
- Ir a query y agregar:

```json
{"asignaturas":"Bases de Datos"}
```
- Presionar botón `find`
</Solution>

## Ejercicio 05
**Buscar estudiantes con notas mayores a 6.0**. Encuentra alumnos que tengan al menos una asignatura con una nota superior a 6.0

<Solution>
- Seleccionar colección `alumnos`
- Ir a query y agregar: 
```json
{"notas.nota":{"$gt":6.0}}
```

- Presionar botón `find`
</Solution>


## Ejercicio 06
**Filtrar docentes mayores de 40 años**. Encuentra docentes cuya edad sea mayor a 40

<Solution>
- Seleccionar colección `docentes`
- Ir a query y agregar:

```json
{"edad":{"$gt":40}}
```
- Presionar botón `find`
</Solution>


## Ejercicio 07
**Actualizar el correo de un estudiante**. El alumnos Juan Pérez ha cambiado su correo. Ahora es juan.perez2025ejemplo.com

<Solution>
- Seleccionar colección `alumnos`
- Ir a query y agregar:

```json
{"nombre":"Juan", "apellido":"Pérez"}
```
- Presionar botón `find`
- Presionar botón `update` y agregar:

```json
{$set:{"correo":"juan.perez333@gmail.com"} }
```
- Presionar `refresh`
</Solution>


## Ejercicio 08
**Aumentar la edad de un docente.** El docente Roberto Morales ha cumplido años. Debemos aumentar su edad en 1

<Solution>
- Seleccionar colección `docentes`
- Ir a query y agregar:

```json
{"nombre":"Roberto", "apellido":"Morales"}
```
- Presionar botón `find`
- Presionar botón `update` y agregar

```json
{$inc:{"edad":1}}
```
- Presionar `refresh`
</Solution>

## Ejercicio 09
**Agregar una nueva asignatura a un docente**. El docente Lucía Torres ahora impartirá la asignatura Cloud Computing

<Solution>
- Seleccionar colección `docentes`
- Ir a query y agregar:

```json
{"nombre":"Lucía", "apellido":"Torres"}
```
- Presionar botón `find`
- Presionar botón `update` y agregar

```json
{$push:{"asignaturas":"Cloud Computing"}}
```
- Presionar `refresh`
</Solution>

## Ejercicio 10
**Eliminar una asignatura específica de un docente**. El docente Andrés Sánchez ya no enseña Ingeniería de Software

<Solution>
- Seleccionar colección `docentes`
- Ir a query y agregar:

```json
{"nombre":"Andrés", "apellido":"Sánchez"}
```
- Presionar botón `find`
- Presionar botón `update` y agregar

```json
{ $pull:{ "asignaturas":"Ingeniería de Software" } }
```
- Presionar `refresh`
</Solution>

## Ejercicio 11
Eliminar a un alumno que se retiró

<Solution>
- Seleccionar colección `alumnos`
- Ir a query y agregar un alumno cualquiera:

```json
{"nombre":"Carlos", "apellido":"Rojas"}
```
- Presionar botón `find`
- Presionar botón `delete`
</Solution>
