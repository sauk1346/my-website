# Evaluación 1 - Versión B

## Sección de Alternativas (40 puntos)

1. **¿Cuál es la principal característica de una base de datos NoSQL como MongoDB?**
    1. Utiliza solo tablas relacionales
    2. Requiere esquema fijo
    3. <span style={{color:'red'}}>Usa documentos flexibles</span>
    4. Solo permite texto plano

2. **¿Qué formato se basa en JSON pero es más eficiente para el almacenamiento interno de MongoDB?**
    1. YAML
    2. CSV
    3. <span style={{color:'red'}}>BSON</span>
    4. HTML

3. **En MongoDB Compass, ¿qué permite el botón "Insert Document"?**
    1. Crear un nuevo campo
    2. Cargar un archivo JSON externo
    3. <span style={{color:'red'}}>Insertar un nuevo documento manualmente</span>
    4. Eliminar un documento

4. **¿Cuál de los siguiente <span style={{color:'red'}}>no</span> es un tipo de dato válido en MongoDB?**
    1. String
    2. Boolean
    3. Date
    4. <span style={{color:'red'}}>Float64List</span>

5. **¿Qué operador permite filtrar documentos con valores <span style={{color:'red'}}>diferentes</span> al especificado?**
    1. $eq
    2. <span style={{color:'red'}}>$ne</span>
    3. $gt
    4. $lt

6. **¿Cuál es la estructura correcta para representar un documento en MongoDB?**
    1. Tabla con columnas
    2. <span style={{color:'red'}}>Objeto con pares clave-valor</span>
    3. Lista separada por comas
    4. Archivo binario

7. **¿Qué campo único se asigna automáticamente a cada documento en MongoDB?**
    1. id_doc
    2. uuid
    3. <span style={{color:'red'}}>_id</span>
    4. ref

8. **¿Qué acción se realiza cuando hacer clic en el botón "Delete Document" en Compass?**
    1. Se borra toda la base de datos
    2. Se elimina la colección
    3. <span style={{color:'red'}}>Se elimina un documento específico</span>
    4. Se borra solo un campo del documento

9. **¿Qué operador se utiliza para comprobar si un campo está presente en los documentos?**
    1. $in
    2. <span style={{color:'red'}}>$exists</span>
    3. $has
    4. $check

10. **¿Qué campo se recomienda usar para guardar fechas en MongoDB?**
    1. dateField como tipo string
    2. Cualquier campo con NumberLong
    3. <span style={{color:'red'}}>fecha con tipo ISODate</span>
    4. No es necesario usar fechas en MongoDB

11. **¿Qué hace el operador $in en una consulta?**
    1. Inserta varios valores
    2. Elimina campos nulos
    3. <span style={{color:'red'}}>Busca si un valor pertenece a un conjunto</span>
    4. Agrega datos a un array

12. **¿Qué tipo de dato es un array en MongoDB?**
    1. Una lista de claves
    2. Un campo único
    3. Una colección
    4. <span style={{color:'red'}}>Una lista ordenada de valores</span>

13. **¿Qué sucede si intentas insertar dos documentos con el mismo valor en _id?**
    1. Ambos se almacenan como versiones
    2. <span style={{color:'red'}}>Se lanza un error</span>
    3. El documento anterior se actualiza
    4. Se eliminan ambos

14. **¿Qué puedes hacer desde la pestaña "Documents" en Compass?**
    1. Ejecutar scripts JavaScript
    2. Importar drivers
    3. <span style={{color:'red'}}>Ver y editar documentos visualmente</span>
    4. Crear nuevas bases de datos

15. **¿Cuál de los siguientes operadores sirve para combinar varias condiciones de filtro?**
    1. <span style={{color:'red'}}>$or</span>
    2. $like
    3. $contains
    4. $group

16. **¿Qué operador filtra documentos cuya propiedad está dentro de un rango de valores?**
    1. $range
    2. <span style={{color:'red'}}>$in</span>
    3. $between
    4. $map

17. **¿Qué campo representa el número total de registros de una colección?**
    1. total_rows
    2. documentCount
    3. <span style={{color:'red'}}>Se obtiene con countDocuments()</span>
    4. No se puede saber

18. **¿Qué herramienta permite ver la estructura interna y tipos de campos de una colección en Compass?**
    1. Aggregation
    2. <span style={{color:'red'}}>Schema</span>
    3. Import
    4. Atlas Sync

19. **¿Qué tipo de operación representa “Update One”?**
    1. Reemplazar todos los documentos
    2. <span style={{color:'red'}}>Actualizar el primer documento que cumpla una condición</span>
    3. Crear una colección
    4. Borrar una base de datos

20. **¿Cuál de las siguientes opciones es un ejemplo válido de subdocumento?**
    1. "detalles": "marca, color"
    2. "detalles": \[“marca”, “color”\]
    3. <span style={{color:'red'}}>"detalles": \{ "marca": "LG", "color": "Negro" \}</span>
    4. "detalles": marca: "LG", color: "Negro"

## Parte Práctica (60 puntos)

### Preparación
- Crear la base de datos llamada evaluacionFinalB
- Crear dos colecciones:
    - productos
    - usuarios
- Insertar al menos 4 documentos en cada colección con datos realistas

<details>
    <summary style={{color:'red'}}>Solución</summary>

<br/>
1. Documentos para colección "usuarios":
```json
[
  {
    "nombre": "Antonio",
  	"email": "antonio@example.com",
  	"direccion": "direccion111"
  },
  {
    "nombre": "María",
  	"email": "maria@example.com",
  	"direccion": "direccion222"
  },
  {
    "nombre": "Marcos",
  	"email": "marcos@example.com",
  	"direccion": "direccion333"
  },
  {
    "nombre": "Doris",
  	"email": "doris@example.com",
  	"direccion": "direccion444"
  }
]
```

2. Documentos para colección productos
```json
[
  {
    "nombre":"mouse",
    "stock":100,
    "precio":25
  },
  {
    "nombre":"teclado",
    "stock":35,
    "precio":10
  },
  {
    "nombre":"pantalla",
    "stock":40,
    "precio":30
  },
  {
    "nombre":"impresora",
    "stock":15,
    "precio":32
  }
]
```
</details>

### Ejercicio 1 - Inserción visual de documentos (15 puntos)
Inserta **2 nuevos documentos** en la colección usuarios. Cada uno debe contener:
- nombre (string)
- email (string)
- edad (number)
- fechaRegistro(date)

Agrega el campo extra activo (boolean) en **uno** de ellos

<details>
    <summary style={{color:'red'}}>Solución</summary>

<br/>
```json
[
  {
  	"nombre": "Raúl",
    "email": "raul@example.com",
    "edad": 30,
    "fechaRegistro": {"$date":"2025-01-03"},
    "activo": true
  },
  {
    "nombre": "Sofía",
    "email": "sofia@example.com",
    "edad": 28,
    "fechaRegistro": {"$date":"2025-02-15"},
    "activo": true
  }
]
```
</details>

### Ejercicio 2 - Filtros visuales (15 puntos)
Usa la barra de filtros para lo siguiente:
1. En usuarios, muestra los que tengan edad menor o igual a 25

<details>
    <summary style={{color:'red'}}>Solución</summary>

<br/>
```json
{ "edad": { "$lte":25 } }
```
</details>

<br/>
2. En productos, filtra los productos que contengarn la palabra "Pro" en su nombre

<details>
    <summary style={{color:'red'}}>Solución</summary>

<br/>
```json
{ "nombre": { "$regex": "Pro", "$options": "i" } }
```
</details>


### Ejercicio 3 - Edicion visual (15 puntos)
Realiza las siguiente actualizaciones desde la interfaz visual:
1. Cambia el correo de un usuario existente

<details>
    <summary style={{color:'red'}}>Solución</summary>

<br/>
- Ir a query y agregar:
```json
{ "nombre": "Antonio" }
```
- Luego ir a "update" y agregar:
```json
{ $set: { "email":"tono@example.com" } }
```
</details>

<br/>
2. Agrega el campo `vip:true` a todos los usuarios con edad mayor a 30

<details>
    <summary style={{color:'red'}}>Solución</summary>
<br/>
- Ir a query y agregar:
```json
{ "edad": { "$gt":30 } }
```
- Luego ir a "update" y agregar:
```json
{ $set:{"vip":true } }
```
</details>


<br/>
3. Modifica el precio de un producto, sumando 10

<details>
    <summary style={{color:'red'}}>Solución</summary>
<br/>
- Ir a query y agregar:
```json
{ "nombre": "mouse"}
```
- Luego ir a "update" y agregar:
```json
{ $inc:{"precio":10 } }
```
</details>

### Ejercicio 4 - Eliminaciones visuales (15 puntos)
Elimina desde Compass:
1. Un usuario cuyo campo activo sea false (puedes editar uno si es necesario)

<details>
    <summary style={{color:'red'}}>Solución</summary>
<br/>
- Ir a query y agregar:
```json
{ "activo": false }
```
- Luego presionar botón "delete":

</details>

<br/>
2. Un producto cuyo precio sea mayor a 1000

<details>
    <summary style={{color:'red'}}>Solución</summary>
<br/>
- Ir a query y agregar:
```json
En query: {"precio":{"$gt":1000}}
```
- Luego presionar botón "delete":

</details>