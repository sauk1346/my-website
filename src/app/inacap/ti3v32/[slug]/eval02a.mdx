import { Quiz } from '@/components/education/QuizComponent';
import ExternalLink from '@/components/ui/ExternalLink';

# Evaluación 2 - Versión A

- **Base de datos:** municipalidadDB
- **Colección:** vehiculosA
- **JSON:** <ExternalLink href='/inacap/ti3v32/data/eval02A.json'>eval02A.json</ExternalLink>
- **Instrucciones:** Responde los siguientes ejercicios usando consultas en MongoDB Shell

## Ejercicio 01
Buscar vehículos con más de 10 años de antigüedad.

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    año: { $lt: 2015 } 
})
```
</details>

## Ejercicio 02
Mostrar vehículos cuyo valor fiscal supere los \$10.000.000.

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    valor_fiscal: { $gt: 10000000 } 
})
```
</details>

## Ejercicio 03
Filtrar vehículos que estén en circulación (activo: true).

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    activo: true 
})
```
</details>

## Ejercicio 04
Listar vehículos registrados en la comuna "Ñuñoa".

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    comuna: "Ñuñoa" 
})
```
</details>

## Ejercicio 05
Mostrar vehículos registrados después del año 2021.

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    fecha_registro: { $gt: "2021-12-31" }
})
```
</details>

## Ejercicio 06
Buscar vehículos con tipo "Furgón" o "Sedán".

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    tipo: { $in: ["Furgón", "Sedán"] } 
})
```
</details>

## Ejercicio 07
Mostrar vehículos donde la revisión técnica de 2022 tenga mejor nota que la de 2020.

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    $expr: { 
        $gt: ["$revisiones.2022", "$revisiones.2020"] 
    } 
})
```
</details>

## Ejercicio 08
Filtrar vehículos de tipo "SUV" con valor fiscal inferior a $7.500.000.

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    tipo: "SUV", 
    valor_fiscal: { $lt: 7500000 } 
})
```
</details>

## Ejercicio 09
Mostrar vehículos que no estén registrados en "Providencia".

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    comuna: { $ne: "Providencia" } 
})
```
</details>

## Ejercicio 10
Listar vehículos con más de 2 accesorios instalados.

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    $expr: { 
        $gt: [{$size: "$accesorios"}, 2] 
    } 
})
```
</details>

## Ejercicio 11
Buscar vehículos cuyo modelo comience con "C".

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    modelo: /^C/ 
})
```
</details>

## Ejercicio 12
Mostrar vehículos cuya marca contenga la palabra "lux" (sin distinguir mayúsculas).

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
    marca: /lux/i 
})
```
</details>

## Ejercicio 13
Filtrar vehículos con al menos un accesorio que incluya "bluetooth".

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({
    accesorios: /bluetooth/i 
})
```
</details>

## Ejercicio 14
Mostrar vehículos sin revisión técnica del año "2022".

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({ 
  $or: [
    { "revisiones.2022": { $exists: false } },
    { "revisiones.2022": null }
  ]
})
```
</details>

## Ejercicio 15
Filtrar vehículos que tengan exactamente 4 accesorios.

<details>
    <summary>Solución</summary>
```js
db.vehiculosA.find({
    $expr: { 
        $eq: [{$size: "$accesorios"}, 4] 
    } 
})
```
</details>