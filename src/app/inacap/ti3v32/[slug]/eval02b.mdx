import { Quiz } from '@/components/education/QuizComponent';
import ExternalLink from '@/components/ui/ExternalLink';

# Evaluación 2 - Versión B

- **Base de datos:** municipalidadDB
- **Colección:** vehiculosB
- **JSON:** <ExternalLink href='/inacap/ti3v32/data/eval02B.json'>eval02B.json</ExternalLink>
- **Instrucciones:** Responde los siguientes ejercicios usando consultas en MongoDB Shell

## Ejercicio 01
Buscar vehículos con más de 12 años de antigüedad.

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  año: { $lt: 2013 }
})
```
</details>

## Ejercicio 02
Mostrar vehículos cuyo valor fiscal supere los \$15.000.000.

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  valor_fiscal: { $gt: 15000000 }
})
```
</details>

## Ejercicio 03
Filtrar vehículos que estén dados de baja (activo: false).

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  activo: false
})
```
</details>

## Ejercicio 04
Listar vehículos registrados en la comuna "La Florida".

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  comuna: "La Florida"
})
```
</details>

## Ejercicio 05
Mostrar vehículos registrados después del año 2018.

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  fecha_registro: { $gt: "2018-12-31" }
})
```
</details>

## Ejercicio 06
Buscar vehículos con tipo "Camioneta" o "SUV".

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  tipo: { $in: ["Camioneta", "SUV"] }
})
```
</details>

## Ejercicio 07
Mostrar vehículos donde la revisión técnica de 2021 tenga peor nota que la de 2023.

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  $expr: {
    $lt: ["$revisiones.2021", "$revisiones.2023"]
  }
})
```
</details>

## Ejercicio 08
Filtrar vehículos de tipo "Hatchback" con valor fiscal inferior a \$6.000.000.

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  tipo: "Hatchback",
  valor_fiscal: { $lt: 6000000 }
})
```
</details>

## Ejercicio 09
Mostrar vehículos que no estén registrados en "Ñuñoa".

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  comuna: {$nin: ["Ñuñoa"]}
})
```
</details>

## Ejercicio 10
Listar vehículos con más de 4 accesorios instalados.

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  $expr: {
    $gt: [{$size: "$accesorios"}, 4]
  }
})
```
</details>

## Ejercicio 11
Buscar vehículos cuyo modelo comience con "R".

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  modelo: /^R/
})
```
</details>

## Ejercicio 12
Mostrar vehículos cuya marca contenga la palabra "ford" (sin distinguir mayúsculas).

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  marca: /ford/i
})
```
</details>

## Ejercicio 13
Filtrar vehículos con al menos un accesorio que incluya "sunroof".

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  accesorios: /sunroof/
})
```
</details>

## Ejercicio 14
Mostrar vehículos sin revisión técnica del año "2021".

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  $or: [
    {"revisiones.2021": {$exists: false}},
    {"revisiones.2021": null}
  ]
})
```
</details>

## Ejercicio 15
Filtrar vehículos que tengan exactamente 2 accesorios.

<details>
    <summary>Solución</summary>
```js
db.vehiculosB.find({
  $expr: {
    $eq: [{$size: "$accesorios"}, 2]
  }
})
```
</details>