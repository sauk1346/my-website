import styles from '@/styles/clases.module.css';

# Guía de Ejercicios - BD de Videojuegos

- **Base de datos:** videojuegosDB
- **Colección:** juegos
- **CSV:** <a href='/ti3v32/data/juegos.csv' target="_blank" rel="noopener noreferrer" className={styles.link}>juegos.csv</a>
- **Objetivo:** Aplicar filtros, comparaciones y búsquedas con expresiones regulares y operadores lógicos en MongoDB Compass

## Ejercicio 01
Buscar todos los juegos de la consola "PS4"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ console:"PS4" }) 
```
</details>

## Ejercicio 02
Mostrar todos los juegos cuya genre sea "Shooter"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ genre:"Shooter" }) 
```
</details>

## Ejercicio 03
Buscar juegos con critic_score mayor a 9

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ critic_score:{$gt:9} }) 
```
</details>

## Ejercicio 04
Listar juegos con total_sales mayores a 20 millones

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ total_sales:{$gt:20.00} }) 
```
</details>

## Ejercicio 05
Mostrar los juegos lanzados después del año 2015

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ release_date:{$gt:ISODate("2015-12-31")} }) 
```
</details>

## Ejercicio 06
Buscar juegos con más de 8 millones en ventas en Norteamérica (na_sales)

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ na_sales:{$gt:8.00}}) 
```
</details>

## Ejercicio 07
Filtrar juegos con ventas en Japón (jp_sales) entre 0.5 y 1 millón

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ jp_sales:{$gte:0.5, $lte:1.0}}) 
```
</details>

## Ejercicio 08
Listar juegos cuya editorial (publisher) sea "Rockstar Games"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ publisher:"Rockstar Games" }) 
```
</details>

## Ejercicio 09
Buscar juegos desarrollados por "Treyarch"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ developer:"Treyarch" }) 
```
</details>

## Ejercicio 10
Mostrar juegos lanzados el día "2013-09-17"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ release_date:ISODate("2013-09-17") }) 
```
</details>

## Ejercicio 11
Buscar juegos cuyo título contenga "Call of Duty".

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ title:{$regex:/(Call of Duty)/i} }) 
```
</details>

## Ejercicio 12
Listar juegos cuyo título comience con "Grand" (usando $regex)

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ title:{$regex:/^Grand/} }) 
```
</details>

## Ejercicio 13
Mostrar juegos del género "Action" publicados por "Rockstar Games"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ genre:"Action", publisher:"Rockstar Games" }) 
```
</details>

## Ejercicio 14
Filtrar juegos cuyo desarrollador contenga "North" y consola sea "PS3"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({
    developer:{$regex:/North/i}, 
    console:"PS3" 
}) 
```
</details>

## Ejercicio 15
Mostrar juegos que no pertenezcan al género "Action"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ genre:{$not:/Action/} }) 
```
</details>

## Ejercicio 16
Buscar juegos que tengan una critic_score superior a 7 y user_score inferior a 5

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({
    critic_score:{$gt:7.00}, 
    user_score:{$lt:5} 
}) 
```

- Sin embargo, no existe el campo "user_score"
</details>

## Ejercicio 17
Mostrar los juegos que hayan vendido más de 3 millones en Europa y menos de 1 millón en Japón

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ 
    pal_sales:{$gt:3.00}, 
    jp_sales:{$lt:1.00} 
}) 
```
</details>

## Ejercicio 18
Listar juegos que no hayan sido lanzados entre 2010 y 2020

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({
    release_date: {
        $not: { $gte:ISODate("2010-01-01"), $lte:ISODate("2020-12-31") }
    }
})
```
</details>

## Ejercicio 19
Filtrar juegos del género "Adventure" o que hayan sido publicados por "Ubisoft"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ 
    $or:[ 
        {genre:"Adventure"}, 
        {publisher:"Ubisoft"} 
    ] 
}) 
```
</details>

## Ejercicio 20
Buscar juegos con total_sales mayor a 5 y lanzados después de 2018 y del género "Sports"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ 
    total_sales:{$gt:5.00}, 
    release_date:{$gte:ISODate("2019-01-01")}, 
    genre:"Sports" 
}) 
```
</details>

## Ejercicio 21
Buscar juegos cuyo título incluya números (como "FIFA 23", "NBA 2K22")

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ title:{$regex:/\d/} }) 
```
</details>

## Ejercicio 22
Listar juegos cuyo publisher contenga dos palabras (por ejemplo: "Electronic Arts")

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ publisher:{$regex:/^\w+\s\w+$/} }) 
```
</details>

## Ejercicio 23
Mostrar juegos cuyo título termine en un número ($regex: "\\d$")

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ title:{$regex:/\d$/} }) 
```
</details>

## Ejercicio 24
Filtrar juegos cuyo developer comience con "N" y tenga más de 10 caracteres

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ developer:{$regex:/^N.{10,}/i} }) 
```
</details>

## Ejercicio 25
Buscar juegos con títulos que contengan más de un espacio (es decir, tres o más palabras)

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ title: { $regex:/(\s.*){2}/} }) 
```
</details>

## Ejercicio 26
Buscar juegos que no tengan el campo user_score

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ user_score:{$exists:false} }) 
```
</details>

## Ejercicio 27
Mostrar juegos que sí tengan campo genre pero no tengan developer

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ 
    genre:{$exists:true},
    developer:{$exists:false}
}) 

```
</details>

## Ejercicio 28
Filtrar juegos que tengan critic_score y user_score y ambos sean mayores a 8

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({ 
    critic_score: {$exists: true, $gt: 8},
    user_score: {$exists: true, $gt: 8}
})
```
- Sin embargo, el campo "user_score" no existe
</details>

## Ejercicio 29
Listar juegos cuya release_date esté vacía o nula

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({
    release_date: {
        $in: ["", null]
    }
})
```
</details>

## Ejercicio 30
Buscar juegos cuya consola no sea ninguna de las siguientes: "PS4", "Xbox One", "Switch"

<details>
    <summary style={{color:'red'}}>Solución</summary>
```js
db.juegos.find({
    console: { $nin: ["PS4", "XOne", "Switch"] }
})
```
</details>
