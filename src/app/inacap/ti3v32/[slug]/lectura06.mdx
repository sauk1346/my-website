# Operaciones CRUD en documentos y subdocumentos

## Inserción de documentos

1. **Insert():** para insertar los documentos de uno en uno

```js
use empresa
db.createCollection("trabajador")

db.trabajador.insert({
    rut:"13.444.555-6",
    nombre: "Juan Perez",
    ciudad: "Santiago",
    genero: "M",
    edad: 27,
    sueldo: 530000    
})
```

Existen 2 métodos para insertar documentos

||Descripción|
|---|---|
|**insertOne()**|inserta los documentos uno a uno|
|**insertMany()**|inserta varios documentos en un mismo comando|

**Ejemplo `insertOne()`**
```js
db.albumes.insertOne({
    "nombre" : "Revolver", 
    "autor" : "The Beatles", 
    "año" : 1966 
})
```

**Ejemplo `insertMany()`**
```js
db.albumes.insertMany([
  {
    "nombre" : "Abbey Road",
    "autor" : "The Beatles",
    "año" : 1969
  },
  {
    "nombre" : "Let It Be",
    "autor" : "The Beatles",
    "año" : 1970
  },
  {
    "nombre" : "Help!",
    "autor" : "The Beatles",
    "año" : 1965
  }
])
```

# Actividad de Práctica

1. **¿Cuál de las sentencias hace referencia a un documento embebido?**
    1. db.ejemplo.find( {}, \{_id: 0, nombre:1, escala: \{$slice : [1, 3] } } )
    2. <span style={{color:'red'}}>db.clientes.find(\{'direccion.numero':\{$gte:0},'direccion.numero':\{$lte:1000\}\})</span>
    3. db.clientes.deleteMany(\{ciudad: 'Santiago'\})
    4. db.ejemplo.updateMany( {}, \{$pull : \{ escala : 100 \}  } )

2. **¿Qué se debe usar para realizar consultas a los subcampos  de un documento embebido?**
    1. Comas
    2. Signo peso
    3. <span style={{color:'red'}}>Comillas</span>
    4. Arroba

3. **¿Cuál es el método que permite insertar un valor al final de un arreglo?**
    1. <span style={{color:'red'}}>$addToSet</span>
    2. $pull
    3. $pullAll
    4. $find

4. **¿Cuantos valores del arreglo escala muestra la sentencia `db.ejemplo_arreglo.find( {}, { _id:0, escala : {$slice : -2} } )` ?**
    1. -2 valores
    2. 3 valores
    3. <span style={{color:'red'}}>2 valores</span>
    4. 1 valor

5. **En cuanto a los subdocumentos o documentos anidados, ¿qué tipo de relaciones permiten crear?**
    1. <span style={{color:'red'}}>Relaciones uno a muchos</span>
    2. Relaciones directas
    3. Relaciones de muchos a muchos
    4. Relaciones indirectas