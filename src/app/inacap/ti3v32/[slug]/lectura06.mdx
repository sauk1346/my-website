import { Quiz } from '@/components/features/inacap/QuizComponent';

# Operaciones CRUD en documentos y subdocumentos

## Inserción de documentos

1. **Insert():** para insertar los documentos de uno en uno

```js
use empresa
db.createCollection("trabajador")

db.trabajador.insert({
    rut:"13.444.555-6",
    nombre: "Juan Perez",
    ciudad: "Santiago",
    genero: "M",
    edad: 27,
    sueldo: 530000    
})
```

Existen 2 métodos para insertar documentos

||Descripción|
|---|---|
|**insertOne()**|inserta los documentos uno a uno|
|**insertMany()**|inserta varios documentos en un mismo comando|

**Ejemplo `insertOne()`**
```js
db.albumes.insertOne({
    "nombre" : "Revolver", 
    "autor" : "The Beatles", 
    "año" : 1966 
})
```

**Ejemplo `insertMany()`**
```js
db.albumes.insertMany([
  {
    "nombre" : "Abbey Road",
    "autor" : "The Beatles",
    "año" : 1969
  },
  {
    "nombre" : "Let It Be",
    "autor" : "The Beatles",
    "año" : 1970
  },
  {
    "nombre" : "Help!",
    "autor" : "The Beatles",
    "año" : 1965
  }
])
```

# Actividad de Práctica 04

<Quiz questions={[
  {
    question: "¿Cuál de las sentencias hace referencia a un documento embebido?",
    options: [
      "db.ejemplo.find( {}, {_id: 0, nombre:1, escala: {$slice : [1, 3] } } )",
      "db.clientes.find({'direccion.numero':{$gte:0},'direccion.numero':{$lte:1000}})",
      "db.clientes.deleteMany({ciudad: 'Santiago'})",
      "db.ejemplo.updateMany( {}, {$pull : { escala : 100 } } )"
    ],
    correctIndex: 1
  },
  {
    question: "¿Qué se debe usar para realizar consultas a los subcampos de un documento embebido?",
    options: [
      "Comas",
      "Signo peso",
      "Comillas",
      "Arroba"
    ],
    correctIndex: 2
  },
  {
    question: "¿Cuál es el método que permite insertar un valor al final de un arreglo?",
    options: [
      "$addToSet",
      "$pull",
      "$pullAll",
      "$find"
    ],
    correctIndex: 0
  },
  {
    question: "¿Cuantos valores del arreglo escala muestra la sentencia `db.ejemplo_arreglo.find( {}, { _id:0, escala : {$slice : -2} } )` ?",
    options: [
      "-2 valores",
      "3 valores",
      "2 valores",
      "1 valor"
    ],
    correctIndex: 2
  },
  {
    question: "En cuanto a los subdocumentos o documentos anidados, ¿qué tipo de relaciones permiten crear?",
    options: [
      "Relaciones uno a muchos",
      "Relaciones directas",
      "Relaciones de muchos a muchos",
      "Relaciones indirectas"
    ],
    correctIndex: 0
  }
]} />