# Gu√≠a Subnetting - FLSM y VLSM

## üìã CONCEPTOS FUNDAMENTALES

### **Direcci√≥n IP**
- **32 bits** divididos en 4 octetos
- Formato: `192.168.1.1`
- Cada octeto: 0-255 (8 bits)

### **M√°scara de Subred**
- Separa la **parte de red** de la **parte de host**
- Formato decimal: `255.255.255.0`
- Formato CIDR: `/24`

---

## üéØ **CLASES DE DIRECCIONES DE IP**

| Clase | Rango | Red por Defecto | Hosts por Red | Uso |
|-------|-------|-----------------|---------------|-----|
| **A** | 1.0.0.0 - 126.255.255.255 | /8 (255.0.0.0) | 16,777,214 | Redes grandes |
| **B** | 128.0.0.0 - 191.255.255.255 | /16 (255.255.0.0) | 65,534 | Redes medianas |
| **C** | 192.0.0.0 - 223.255.255.255 | /24 (255.255.255.0) | 254 | Redes peque√±as |

### **Direcciones Especiales**
- **127.x.x.x**: Loopback
- **169.254.x.x**: APIPA (Automatic Private IP)
- **224-239.x.x.x**: Multicast

---

## üìä **TABLA DE M√ÅSCARAS DE SUBRED**

| CIDR | M√°scara Decimal | Hosts √ötiles | Subredes (desde /24) |
|------|-----------------|--------------|---------------------|
| /24 | 255.255.255.0 | 254 | 1 |
| /25 | 255.255.255.128 | 126 | 2 |
| /26 | 255.255.255.192 | 62 | 4 |
| /27 | 255.255.255.224 | 30 | 8 |
| /28 | 255.255.255.240 | 14 | 16 |
| /29 | 255.255.255.248 | 6 | 32 |
| /30 | 255.255.255.252 | 2 | 64 |
| /31 | 255.255.255.254 | 2* | 128 |
| /32 | 255.255.255.255 | 1* | 256 |

**/31 y /32**: Usos especiales (enlaces punto a punto)

---

## üî¢ F√ìRMULAS ESENCIALES

### F√≥rmula 1: N√∫mero de Subredes

$$
Subredes = 2^n
$$

Donde $n = bits\, tomados\, de\, la\, porci√≥n\, del\, host$

### F√≥rmula 2: N√∫meros de Hosts por Subred

$$
Hosts\, √∫tiles = 2^h - 2
$$

Donde $h = bits\, restantes\, para\, hosts$

### F√≥rmula 3: Salto entre Subredes

$$
Salto = 256 - valor\, octeto\, subred
$$

### F√≥rmula 4: Bits necesarios para N subredes

$$
2^n ‚â• n√∫mero\, subredes\, deseadas
$$
### F√≥rmula 5: Bits necesarios para N hosts

$$
2^h - 2 ‚â• n√∫mero\, hosts\, deseados
$$

### F√≥rmula 6: Calcular bits de host desde m√°scar CIDR

$$
   Bits\, de\, host = 32 - m√°scara\, CIDR
$$

---

## üõ†Ô∏è **FLSM (Fixed Length Subnet Mask)**

### **Caracter√≠sticas**
- **M√°scara fija** para todas las subredes
- **Mismo tama√±o** para todas las subredes
- M√°s **simple** de implementar
- Puede **desperdiciar** direcciones

### **Proceso FLSM**

#### **Paso 1: Determinar bits necesarios**

$$
2^n ‚â• n√∫mero\, subredes\, deseadas
$$

#### **Paso 2: Calcular nueva m√°scara**

$$
Nueva\, m√°scara = m√°scara\, original + n\, bits
$$

#### **Paso 3: Calcular salto**

$$
Salto = 256 - valor\, octeto\, subred
$$

#### **Paso 4: Listar subredes**
Incrementar en saltos desde la direcci√≥n base

### **Ejemplo FLSM**
**Red:** `192.168.1.0/24` ‚Üí 4 subredes

1. **Bits necesarios:** $2^n \ge 4 ‚Üí n = 2$
2. **Nueva m√°scara:** `/24 + 2 = /26` ‚Üí `255.255.192.0` 
3. **Salto:** `256 - 192 = 64`
4. **Subredes:**
   - 192.168.1.0/26 (0-63)
   - 192.168.1.64/26 (64-127)
   - 192.168.1.128/26 (128-191)
   - 192.168.1.192/26 (192-255)

---

## üîÑ VLSM (Variable Length Subnet Mask)

### Caracter√≠sticas
- **M√°scaras variables** seg√∫n necesidades
- **Tama√±os diferentes** de subred
- **Optimiza** el uso de direcciones
- M√°s **complejo** de planificar

### **Proceso VLSM**

#### **Paso 1: Ordenar requisitos (mayor a menor)**

1. Subred A: 100 hosts
2. Subred B: 50 hosts
3. Subred C: 10 hosts

#### **Paso 2: Calcular bits por subred**

Para cada subred: 
$$
2^h - 2 ‚â• hosts\, requeridos
$$

#### **Paso 3: Determinar m√°scaras**

$$
M√°scara = 32 - bits\, host
$$

#### **Paso 4: Asignar secuencialmente**
- Empezar con la subred m√°s grande
- No superponer rangos
- Usar la siguiente direcci√≥n disponible

### **Ejemplo VLSM**
**Red:** `192.168.1.0/24`

| Subred | Hosts Req. | Bits Host | M√°scara | Rango |
|--------|------------|-----------|---------|-------|
| A | 100 | 7 | /25 | 192.168.1.0-127 |
| B | 50 | 6 | /26 | 192.168.1.128-191 |
| C | 10 | 4 | /28 | 192.168.1.192-207 |

---

## üìù **METODOLOG√çA DE RESOLUCI√ìN**

### **Para FLSM:**
1. Identificar clase de red original
2. Determinar n√∫mero de subredes necesarias
3. Calcular bits necesarios: `2^n ‚â• subredes`
4. Calcular nueva m√°scara
5. Calcular salto
6. Listar todas las subredes

### **Para VLSM:**
1. Listar todos los requisitos de hosts
2. Ordenar de mayor a menor
3. Calcular bits necesarios para cada uno
4. Determinar m√°scara para cada subred
5. Asignar direcciones secuencialmente
6. Verificar que no hay superposici√≥n

---

## üö® **DIRECCIONES ESPECIALES**

### **En cada subred:**
- **Primera direcci√≥n**: Direcci√≥n de red
- **√öltima direcci√≥n**: Broadcast
- **Direcciones √∫tiles**: Entre la primera y √∫ltima

### **Subnet Zero**
- **Cl√°sico**: Primera subred no utilizable
- **Moderno**: Todas las subredes utilizables
- **Pista**: Palabra "utilizable" en el problema

---

## üí° **TIPS PR√ÅCTICOS**

### **Conversi√≥n R√°pida CIDR ‚Üî Decimal**

```text
/24 = 255.255.255.0
/25 = 255.255.255.128
/26 = 255.255.255.192
/27 = 255.255.255.224
/28 = 255.255.255.240
/29 = 255.255.255.248
/30 = 255.255.255.252
```

### **Potencias de 2 Comunes**

```text
2^1 = 2      2^5 = 32     2^9 = 512
2^2 = 4      2^6 = 64     2^10 = 1024
2^3 = 8      2^7 = 128    2^11 = 2048
2^4 = 16     2^8 = 256    2^12 = 4096
```

### **Verificaciones R√°pidas**
- **FLSM**: Todas las subredes mismo tama√±o
- **VLSM**: Subredes de diferentes tama√±os
- **Hosts √∫tiles**: Siempre = Total - 2
- **Salto**: Diferencia entre direcciones de subred consecutivas

---

## üîç **ERRORES COMUNES**

1. **Olvidar el "-2"** en c√°lculo de hosts √∫tiles
2. **Superponer subredes** en VLSM
3. **No ordenar por tama√±o** en VLSM
4. **Confundir direcci√≥n de red con primera √∫til**
5. **Mezclar notaci√≥n CIDR con decimal**
6. **No considerar subnet zero** cuando se requiere

---

## üìö **EJERCICIOS TIPO**

### **FLSM B√°sico**
"Dividir 172.16.0.0/16 en 8 subredes"

### **VLSM B√°sico**
"Crear subredes para: 200 hosts, 100 hosts, 50 hosts"

### **Identificaci√≥n**
"¬øCu√°l es la direcci√≥n de broadcast de 192.168.1.64/26?"

### **C√°lculo Inverso**
"¬øCu√°ntas subredes /27 caben en una red /24?"